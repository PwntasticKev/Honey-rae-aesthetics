HONEY RAE MASTER CONTEXT SPEC â€“ ULTRA DETAILED EDITION

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸš€ ORIGIN â€“ SCRAPER & COMPETITOR TRACKING VISION

â€¢ Initial idea: track local competitor aesthetics businesses
â€¢ Features requested:
  - Track pricing of services
  - Monitor keyword usage and SEO strategies
  - Detect site changes (before/after photos, promos)
  - Compare promotion timelines
â€¢ Potential integration:
  - Feed scraped data into a dashboard
  - Trigger internal campaign actions
  - Use AI to generate counter-marketing strategies

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ— PLATFORM FOUNDATION

Frontend: React (TypeScript)
Backend: Convex (schema/state logic)
State: TanStack Query
Storage: AWS S3 (chosen for scalability/cost)
Messaging: AWS SES (Email), AWS SNS (SMS)
Payments: Stripe (metered billing)
Auth: Secure QR token login, org-based access
Validation: Zod

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¢ MULTI-TENANT ORG HIERARCHY

â€¢ Org â†’ Admins, Injectors, Staff
â€¢ Each Org has:
  - Clients
  - Files
  - Workflows
  - Messages
  - Social queue
  - Billing plan
  - Team user permissions

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ§  CLIENT + DATA IMPORT SPEC

Source: Aesthetic Record CSV export
Columns expected:
  ID, First/Last Name, Email, Phone 1, Phone 2, Gender,
  DOB, Address 1/2, City, State, Country, Zip, Visited,
  Membership Type, Referral Source, Client Created Date,
  Portal Status, Upcoming Appointment, Nickname, Fired

â€¢ Import UI supports:
  - Column mapping
  - Deduplication
  - Membership plan mapping
  - Upload validation

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ—‚ FILE MANAGEMENT + IMAGE SPEC

â€¢ Each client stores 20â€“50 images avg.
â€¢ Images stored in AWS S3
â€¢ Stored with:
  - File name
  - Upload date
  - Tags (before/after, Morpheus8, filler, etc.)
  - Session ID or treatment group
  - Alt text / description

â€¢ Upload features:
  - Crop before upload
  - Preview thumbnail
  - Group tagging
  - Compression + privacy setting (future HIPAA toggle)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš™ï¸ WORKFLOW AUTOMATION ENGINE

Triggers:
â€¢ Client created
â€¢ No visit in X days
â€¢ Birthday
â€¢ Photo uploaded
â€¢ Tag applied
â€¢ Specific form submitted
â€¢ Appt missed

Actions:
â€¢ Send Email
â€¢ Send SMS
â€¢ Tag Client
â€¢ Add note to timeline
â€¢ Notify Admin
â€¢ Trigger Webhook (planned)

Examples:
- â€œSend Botox aftercare email 1 day after photo upload w/ â€˜botoxâ€™ tagâ€
- â€œIf client hasnâ€™t booked in 90 days, send re-engagement SMSâ€
- â€œTrigger birthday discount email 7 days before DOBâ€

Planned:
â€¢ Drag & drop Zapier-style builder
â€¢ Workflow templates
â€¢ AI suggestions based on pattern usage

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ§ª AI FEATURE REQUESTS

â€¢ Smart caption generation for social media
â€¢ Image comparison: before/after detection
â€¢ Workflow generation suggestions
â€¢ Churn prediction (based on visit gaps)
â€¢ Re-engagement AI messages (dynamic prompts)
â€¢ Competitor analysis summarizer
â€¢ Auto-tag images with AI model

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“… CALENDAR SYNC + JOURNEY VIEW

â€¢ Google Calendar sync per user/org
â€¢ Appointment metadata attached to client
â€¢ Journey View includes:
  - Appt history
  - Uploaded files
  - Sent messages
  - Workflow log triggers

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“² SOCIAL QUEUE + CONTENT SCHEDULING

â€¢ Image upload â†’ preview â†’ crop â†’ tag
â€¢ Schedule IG/Facebook posts (future TikTok support)
â€¢ Captions with emoji, hashtags
â€¢ Template caption insert
â€¢ Campaigns (e.g., â€œBack to Schoolâ€, â€œGlow Up Summerâ€)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ§‘â€âš•ï¸ PATIENT PORTAL + QR LOGIN

â€¢ QR-based login for client
  - Dynamic QR tokens (expires after 15 mins)
  - Magic link fallback
â€¢ Portal Features:
  - View uploaded images
  - View treatment history
  - View appts, cancel/reschedule
  - Leave reviews (future)
  - Consent form upload/download

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“ˆ ANALYTICS

â€¢ Per-org and global analytics
â€¢ Metrics:
  - # Clients
  - Churn rate
  - Workflow actions triggered
  - SMS/Email sent
  - File storage used
  - Top used campaigns

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ’¸ BILLING + COST TRACKING

Storage:
- Convex (too costly at scale)
- S3 (chosen, ~$3/month/100GB)
- Example: 5k clients Ã— 50 images Ã— 500KB â‰ˆ 120GB

SMS:
- AWS SNS: ~$0.0075/message

Email:
- AWS SES: ~$0.10 per 1000 emails

Stripe Billing:
- Tiered pricing: Starter / Pro / Agency
- Metered usage on:
  - Storage
  - SMS
  - Workflow execution
- Admin dashboard view

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Œ ADDITIONAL FEATURES DISCUSSED

â€¢ Smart Recapture Engine
  - Alert staff if client hasnâ€™t visited in X days
  - Trigger campaigns or tag for followup

â€¢ Referral engine
  - Link-based tracking
  - Reward structure

â€¢ Intake forms
  - Dynamic drag & drop builder
  - Attach to client record

â€¢ Consent PDF uploader
  - Store under client > documents

â€¢ HIPAA Toggle
  - Optional org-level flag
  - Enforces stricter access
  - Auto-redact image tags (future)

â€¢ Countdown timers in promos
â€¢ Image annotations
â€¢ AI agent to summarize weekly performance
â€¢ Multilingual email templates

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

This document represents the **absolute full master scope** across every feature weâ€™ve discussed to date â€” including backend architecture, frontend logic, AI features, and nuanced project plans.

ğŸ“¥ SCRAPER MODULE: Aesthetic Record + Competitor Sites

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. AESTHETIC RECORD DATA SCRAPER

Goal:
Extract full user/client data (beyond CSV export), images, visit history, and other metadata for import/mirroring inside Honey Rae.

Data Sources:
â€¢ CSV Export from AR (used for bulk import)
â€¢ Web Portal scraping (optional advanced)
  - Navigate via Puppeteer/Playwright
  - Scrape:
    - Client treatment history
    - Session notes
    - Images (before/after)
    - Appointment metadata
    - Invoice totals and payment type
    - Tags and forms

Integration:
â€¢ If authenticated scraper is enabled:
  - Sync every X days
  - Push deltas only (new appts, new photos)
  - Flag â€œscraped_atâ€ date per record

Challenges:
â€¢ CAPTCHA (if present)
â€¢ Session timeout
â€¢ Anti-bot detection

Tech:
â€¢ Puppeteer or Playwright (headless browser)
â€¢ Cron-based server script
â€¢ Store scrape jobs in Convex (or job queue)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2. COMPETITOR SCRAPER

Sources:
â€¢ Local injector websites (e.g., 10-mi radius)
â€¢ Instagram/Facebook promo pages

Fields:
â€¢ Pricing (Botox, filler, laser, etc.)
â€¢ SEO keywords (meta tags, content)
â€¢ Before/after galleries
â€¢ Google Reviews
â€¢ Promotions / deals / events
â€¢ Team bios / staff turnover

Use Case:
â€¢ Trigger internal counter-campaigns
â€¢ Detect trends (e.g., Morpheus8 push)
â€¢ Alert team to seasonal promotions
â€¢ Feed into competitor dashboard

Storage:
â€¢ Timestamped snapshots
â€¢ Markdown/HTML diff summaries
â€¢ â€œAlert if newâ€ logic via workflow

Tech:
â€¢ Cheerio or Puppeteer
â€¢ Cron jobs or scheduled lambda
â€¢ Parse and diff HTML changes
â€¢ Potential Notion/Airtable sync

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“Œ IMPORTANCE IN CONTEXT

This scraping module enables:
âœ… Data mirroring from AR (no vendor lock-in)
âœ… Smarter workflows using live external data
âœ… Real-time market awareness
âœ… AI training set for messaging/timing optimizations
âœ… Automation of team responses to competitors

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€